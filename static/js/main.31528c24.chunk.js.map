{"version":3,"sources":["panels/Home.js","panels/Spiner.js","panels/AddPostEnd.js","App.js","index.js","img/default_img.PNG"],"names":["Home","id","props","go","fetchedUser","title","top","name","value","innquiryInfo","field1","onChange","—ÅhangeForms","type","placeholder","field2","field3","field4","accept","isReady","className","src","imageUrl","img","alt","size","onClick","sendForms","disabled","level","Spiner","style","display","alignItems","flexDirection","marginTop","AddPostEnd","token","group_id","defaultPhoto","postPhotoUrl","connect","send","savePhoto","server","photos_list","hash","App","e","setState","activePanel","currentTarget","dataset","to","createPoll","answers","state","male","createMessage","message","poll","photo","attachments","guid","Math","floor","random","data","Date","postData","round","file","files","reader","FileReader","onloadend","result","readAsDataURL","imgForMessage","postSendId","subscribe","detail","sex","request_id","response","upload_url","url","formData","FormData","append","fetch","method","body","headers","then","json","catch","error","postPhoto","owner_id","post_id","console","log","this","length","React","Component","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.31528c24.chunk.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {Panel, Button, Group, Div, PanelHeader, Input, FormLayout} from '@vkontakte/vkui';\r\nimport File from \"@vkontakte/vkui/dist/components/File/File\";\r\nimport img from \"../img/default_img.PNG\"\r\n\r\nconst Home = ({id, go, fetchedUser, ...props}) => {\r\n    return (\r\n        <Panel id={id}>\r\n            <PanelHeader>–ù–∞–π—Ç–∏ –ø–æ—Ç–µ—Ä—è—à–∫—É</PanelHeader>\r\n            <Group>\r\n                <Div>\r\n                     ‚Ä¢ –ü–æ—Å—Ç—ã —Å –æ—à–∏–±–∫–∞–º–∏ –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å—Å—è –Ω–µ –±—É–¥—É—Ç!\r\n                     ‚Ä¢ –ö–æ–Ω–µ—á–Ω—ã–π –≤–∏–¥ —Å–≤–æ–µ–≥–æ –ø–æ—Å—Ç–∞ —É–≤–∏–¥–∏—Ç–µ –ø–æ—Å–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ–ª–µ–π\r\n                     ‚Ä¢ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∑–∞–π–º–µ—Ç –æ—Ç 1 –¥–æ 2 —Å—É—Ç–æ–∫ –Ω–∞–±–µ—Ä–∏—Ç–µ—Å—å —Ç–µ—Ä–ø–µ–Ω–∏—è\r\n                </Div>\r\n            </Group>\r\n            <Group title=\"–î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ—Å—Ç–∞ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—ã:\">\r\n                <Div>\r\n                    <div>\r\n                        <div>\r\n                            <FormLayout>\r\n                                <Input top=\"–ö–æ–≥–æ –∏—â–µ—à—å?\" name=\"field1\" value={props.innquiryInfo.field1}\r\n                                       onChange={props.—ÅhangeForms} type=\"text\" placeholder=\"–ö–æ–≥–æ –∏—â–µ—à—å?\"/>\r\n                                <Input top=\"–í—Ä–µ–º—è –≤—Å—Ç—Ä–µ—á–∏\" name=\"field2\" value={props.innquiryInfo.field2}\r\n                                       onChange={props.—ÅhangeForms} type=\"text\" placeholder=\"–í—Ä–µ–º—è –≤—Å—Ç—Ä–µ—á–∏\"/>\r\n                                <Input top=\"–ì–¥–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å\" name=\"field3\" value={props.innquiryInfo.field3}\r\n                                       onChange={props.—ÅhangeForms} type=\"text\" placeholder=\"–ì–¥–µ –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å\"/>\r\n                                <Input top=\"–ü—Ä–∏–º–µ—Ç—ã, –æ–¥–µ–∂–¥–∞\" name=\"field4\" value={props.innquiryInfo.field4}\r\n                                       onChange={props.—ÅhangeForms} type=\"text\" placeholder=\"–ü—Ä–∏–º–µ—Ç—ã, –æ–¥–µ–∂–¥–∞\"/>\r\n                                <File top=\"–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–æ—Ç–æ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):\" onChange={props.—ÅhangeForms} name=\"file\"\r\n                                      type=\"file\" placeholder=\"–ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–æ—Ç–æ\" accept=\"image/*\"/>\r\n                            </FormLayout>\r\n                        </div>\r\n                        {props.innquiryInfo.isReady ?\r\n                            <Div>–ò—â—É {props.innquiryInfo.field1}. {props.innquiryInfo.field2} –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å {props.innquiryInfo.field3}. {props.innquiryInfo.field4}. –û—Ç–∑–æ–≤–∏—Å—å –≤ –æ–ø—Ä–æ—Å–µ üí¨<div>\r\n                                <img className=\"imgFormat\" src={props.innquiryInfo.imageUrl || img}\r\n                                                   alt={\"img\"}/></div></Div> : <div/>}\r\n\r\n                    </div>\r\n                    {props.innquiryInfo.isReady ?\r\n                        <Button size=\"xl\" onClick={props.sendForms}>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å</Button> :\r\n                        <Button size=\"xl\" disabled level=\"2\">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–æ–≤–æ—Å—Ç—å</Button>}\r\n\r\n                </Div>\r\n            </Group>\r\n        </Panel>)\r\n};\r\n\r\n\r\nHome.propTypes = {\r\n    id: PropTypes.string.isRequired,\r\n    go: PropTypes.func.isRequired,\r\n    sendForms: PropTypes.func.isRequired,\r\n    fetchedUser: PropTypes.shape({\r\n        photo_200: PropTypes.string,\r\n        first_name: PropTypes.string,\r\n        last_name: PropTypes.string,\r\n        city: PropTypes.shape({\r\n            title: PropTypes.string,\r\n        }),\r\n    }),\r\n};\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport {Panel, PanelHeader} from '@vkontakte/vkui';\r\nimport Spinner from \"@vkontakte/vkui/dist/components/Spinner/Spinner\";\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\nconst Spiner = props => (\r\n\t<Panel id={props.id}>\r\n\t\t<PanelHeader>–ù–∞–π—Ç–∏ –ø–æ—Ç–µ—Ä—è—à–∫—É</PanelHeader>\r\n\t\t<div style={{ display: 'flex', alignItems: 'center', flexDirection: 'column' }}>\r\n\t\t\t<Spinner size=\"large\" style={{ marginTop: 20 }} />\r\n\t\t</div>\r\n\t</Panel>\r\n);\r\n\r\nSpiner.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Spiner;\r\n","import React from 'react';\r\nimport {Panel, PanelHeader} from '@vkontakte/vkui';\r\nimport Spinner from \"@vkontakte/vkui/dist/components/Spinner/Spinner\";\r\nimport PropTypes from 'prop-types';\r\nimport Div from \"@vkontakte/vkui/dist/components/Div/Div\";\r\n\r\n\r\nconst AddPostEnd = props => (\r\n\t<Panel id={props.id}>\r\n\t\t<PanelHeader>–ù–∞–π—Ç–∏ –ø–æ—Ç–µ—Ä—è—à–∫—É</PanelHeader>\r\n\t\t<Div>\r\n\t\t\t<h1>–í–∞—à –æ–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω!</h1>\r\n\t\t</Div>\r\n\t</Panel>\r\n);\r\n\r\nAddPostEnd.propTypes = {\r\n\tid: PropTypes.string.isRequired,\r\n\tgo: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AddPostEnd;\r\n","import React from 'react';\r\nimport connect from '@vkontakte/vk-connect';\r\nimport {View} from '@vkontakte/vkui';\r\nimport '@vkontakte/vkui/dist/vkui.css';\r\nimport Home from './panels/Home';\r\nimport \"./App.css\"\r\nimport Spiner from \"./panels/Spiner\";\r\nimport AddPostEnd from \"./panels/AddPostEnd\";\r\n\r\n//–ª–∏—á–Ω—ã–π —Ç–æ–∫–µ–Ω –∞–¥–º–∏–Ω–∞ –≥—Ä—É–ø–ø—ã\r\nconst token = \"3337929c7bdc06dfad944e7bc6771217d1848d00e3db3f9a160df8f5c881d7b87bde9bd69218aded0ec57\";\r\n\r\n//id –∞–ª—å–±–æ–º–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π\r\nconst album_id = \"266613132\";\r\n\r\n//id –≥—Ä—É–ø–ø—ã —Å –∫–æ—Ç–æ—Ä–æ–π —Ä–∞–±–æ—Ç–∞–µ–º\r\nconst group_id = \"60449152\";\r\n\r\n//–∫–∞—Ä—Ç–∏–Ω–∫–∞ –ø–æ —É–º–ª–æ—á–∞–Ω–∏—é –¥–æ–ª–∂–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è —É–∂–µ –≤ –∞–ª—å–±–æ–º–µ –≥—Ä—É–ø–ø—ã, –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å —Å–æ —Å—Ç—Ä–æ–∫–∏ –∞–¥—Ä–µ—Å–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–∞–∫ –ø—Ä–∏–≤–µ–¥–µ–Ω–Ω–æ –Ω–∏–∂–µ\r\nconst defaultPhoto = \"photo-60449152_457287684\";\r\n\r\n\r\n\r\n\r\n\r\n//–ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–æ—Ç–∫–∏\r\nconst postPhotoUrl = () => {\r\n    connect.send(\"VKWebAppCallAPIMethod\", {\r\n        \"method\": \"photos.getUploadServer\", \"request_id\": \"photoUrl\", \"params\": {\r\n            \"album_id\": album_id, \"group_id\": group_id,\r\n            \"v\": \"5.101\", \"access_token\": token\r\n        }\r\n    });\r\n};\r\n\r\nconst postPhoto = (url, photo) => {\r\n    let formData = new FormData();\r\n    formData.append('photo', photo);\r\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\n    fetch(proxyurl + url, {\r\n        method: 'POST',\r\n        body: formData,\r\n        headers: {\r\n            'Access-Control-Allow-Origin': '*'\r\n        },\r\n    })\r\n        .then(function (response) {\r\n            return response.json();\r\n        })\r\n        .then(function (data) {\r\n            if (data) {\r\n                savePhoto(data.server, data.photos_list, data.hash);\r\n            } else {\r\n                // proccess server errors\r\n            }\r\n        })\r\n        .catch(function (error) {\r\n            // proccess network errors\r\n        });\r\n};\r\n\r\nconst savePhoto = (server, photos_list, hash) => {\r\n    connect.send(\"VKWebAppCallAPIMethod\", {\r\n        \"method\": \"photos.save\", \"request_id\": \"photoSave\", \"params\": {\r\n            \"album_id\": album_id, \"group_id\": group_id,\r\n            \"server\": server, \"photos_list\": photos_list, \"hash\": hash, \"v\": \"5.101\", \"access_token\": token\r\n        }\r\n    });\r\n};\r\n\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activePanel: 'home',\r\n            fetchedUser: null,\r\n            field1: \"\",\r\n            field2: \"\",\r\n            field3: \"\",\r\n            field4: \"\",\r\n            img: null,\r\n            imageUrl: null,\r\n            isReady: false,\r\n            male: true,\r\n            imgForMessage: defaultPhoto,\r\n            postSendId: 0,\r\n            poll: \"\"\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        connect.subscribe((e) => {\r\n            switch (e.detail.type) {\r\n                case 'VKWebAppGetUserInfoResult':\r\n                    this.setState({fetchedUser: e.detail.data});\r\n                    if (e.detail.data.sex === 1) {\r\n                        this.setState({male: false});\r\n                    }\r\n                    break;\r\n                case 'VKWebAppCallAPIMethodResult':\r\n                    switch (e.detail.data.request_id) {\r\n                        case 'photoUrl':\r\n                            this.setState({imageUrl: e.detail.data.response.upload_url});\r\n                            postPhoto(e.detail.data.response.upload_url, this.state.img);\r\n                            break;\r\n                        case 'photoSave':\r\n                            this.setState({imgForMessage: `photo${e.detail.data.response[0].owner_id}_${e.detail.data.response[0].id}`});\r\n                            this.createPoll();\r\n                            break;\r\n                        case 'isCreatePoll':\r\n                            this.setState({poll: `poll${e.detail.data.response.owner_id}_${e.detail.data.response.id}`});\r\n                            let message = `–ò—â—É ${this.state.field1}. ${this.state.field2} –≤—Å—Ç—Ä–µ—Ç–∏–ª–∏—Å—å ${this.state.field3}. ${this.state.field4}. –û—Ç–∑–æ–≤–∏—Å—å –≤ –æ–ø—Ä–æ—Å–µ üí¨`;\r\n                            let photo = this.state.imgForMessage;\r\n                            this.createMessage(message, this.state.poll, photo);\r\n                            break;\r\n                        case 'sendWall':\r\n                            this.setState({\r\n                                postSendId: e.detail.data.response.post_id, field1: \"\",\r\n                                field2: \"\", field3: \"\", field4: \"\", img: null, activePanel: \"addpost\"\r\n                            });\r\n                            break;\r\n                        default:\r\n                            console.log(e);\r\n                    }\r\n                    console.log(e);\r\n                    break;\r\n                default:\r\n                    console.log(e);\r\n            }\r\n        });\r\n        connect.send('VKWebAppGetUserInfo', {});\r\n\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (this.state.isReady === false && this.state.field1.length > 0 && this.state.field2.length > 0 && this.state.field3.length > 0 && this.state.field4.length > 0) {\r\n            this.setState({isReady: true})\r\n        }\r\n        if (this.state.isReady === true && this.state.field1.length === 0 && this.state.field2.length === 0 && this.state.field3.length === 0 && this.state.field4.length === 0) {\r\n            this.setState({isReady: false})\r\n        }\r\n    }\r\n\r\n    go = (e) => {\r\n        this.setState({activePanel: e.currentTarget.dataset.to})\r\n    };\r\n\r\n    createPoll = () => {\r\n         let answers = this.state.male ? '[\"–í–æ–∑–º–æ–∂–Ω–æ —ç—Ç–æ —è\",\"–ü–∏—à–∏, —è –µ–µ –∑–Ω–∞—é\",\"–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã\"]' : '[\"–í–æ–∑–º–æ–∂–Ω–æ —ç—Ç–æ —è\",\"–ü–∏—à–∏, —è –µ–≥–æ –∑–Ω–∞—é\",\"–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã\"]';\r\n                connect.send(\"VKWebAppCallAPIMethod\", {\r\n                        \"method\": \"polls.create\", \"request_id\": \"isCreatePoll\", \"params\": {\r\n                        \"question\": \"–•–µ–ª–ø\",\r\n                        \"is_anonymous\": \"0\",\r\n                        \"is_multiple\": \"0\",\r\n                        \"owner_id\": `-${group_id}`,\r\n                        \"add_answers\": answers,\r\n                        \"v\": \"5.101\",\r\n                        \"access_token\": token\r\n                    }\r\n                });\r\n            };\r\n\r\n    createMessage = (message, poll, photo) => {\r\n        let attachments = `${photo}, ${poll}`;\r\n        //—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π guid\r\n        let guid = Math.floor(1000000000 + Math.random() * (9000000000 + 1 - 1000000000));\r\n\r\n\r\n        let data = +new Date();\r\n        let postData = Math.round(data/1000)+86400;\r\n\r\n        connect.send(\"VKWebAppCallAPIMethod\", {\r\n            \"method\": \"wall.post\", \"request_id\": \"sendWall\", \"params\": {\r\n                \"owner_id\": `-${group_id}`,\r\n                \"from_group\": \"1\",\r\n                \"signed\": \"0\",\r\n                \"publish_date\": +postData,\r\n                \"message\": message,\r\n                \"attachments\": attachments,\r\n                \"guid\": guid,\r\n                \"v\": \"5.101\",\r\n                \"access_token\": token\r\n            }\r\n        });\r\n    };\r\n\r\n    sendForms = () => {\r\n        this.setState({activePanel: \"spinner\"})\r\n        if (this.state.img === null) {\r\n            this.createPoll();\r\n        } else {\r\n            postPhotoUrl()\r\n        }\r\n    };\r\n\r\n    —ÅhangeForms = (e) => {\r\n        switch (e.currentTarget.name) {\r\n            case 'file':\r\n                const file = e.currentTarget.files[0];\r\n                const reader = new FileReader();\r\n                reader.onloadend = () => {\r\n                    this.setState({\r\n                        imageUrl: reader.result\r\n                    })\r\n                };\r\n                if (file) {\r\n                    reader.readAsDataURL(file);\r\n                    this.setState({\r\n                        imageUrl: reader.result\r\n                    })\r\n                } else {\r\n                    this.setState({\r\n                        imageUrl: \"\"\r\n                    })\r\n                }\r\n                this.setState({img: e.currentTarget.files[0]});\r\n                break;\r\n            default:\r\n                this.setState({[e.currentTarget.name]: e.currentTarget.value});\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <View activePanel={this.state.activePanel}>\r\n                <Home id=\"home\" fetchedUser={this.state.fetchedUser} innquiryInfo={this.state}\r\n                      —ÅhangeForms={this.—ÅhangeForms} go={this.go}\r\n                      sendForms={this.sendForms}/>\r\n                <Spiner id=\"spinner\" fetchedUser={this.state.fetchedUser} innquiryInfo={this.state} go={this.go}/>\r\n                <AddPostEnd id=\"addpost\" fetchedUser={this.state.fetchedUser} innquiryInfo={this.state} go={this.go}/>\r\n            </View>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default App;\r\n\r\n","import 'core-js/features/map';\nimport 'core-js/features/set';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport connect from '@vkontakte/vk-connect';\nimport App from './App';\n// import registerServiceWorker from './sw';\n\n// Init VK  Mini App\nconnect.send('VKWebAppInit', {});\n\n// –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –≤–∞—à–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–ª–æ –≤ –æ—Ñ—Ñ–ª–∞–π–Ω–µ –∏ –∑–∞–≥—Ä—É–∂–∞–ª–æ—Å—å –±—ã—Å—Ç—Ä–µ–µ,\n// —Ä–∞—Å—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å—Ç—Ä–æ–∫—É —Å registerServiceWorker();\n// –ù–æ –Ω–µ –∑–∞–±—ã–≤–∞–π—Ç–µ, —á—Ç–æ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —É —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –µ—Å—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–æ–¥–≤–æ–¥–Ω—ã—Ö –∫–∞–º–Ω–µ–π\n// –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ —Å–µ—Ä–≤–∏—Å –≤–æ—Ä–∫–µ—Ä—ã –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å —Ç—É—Ç ‚Äî https://vk.cc/8MHpmT\n// registerServiceWorker();\n\nReactDOM.render(<App />, document.getElementById('root'));\n","module.exports = __webpack_public_path__ + \"static/media/default_img.c61a6ac9.PNG\";"],"sourceRoot":""}